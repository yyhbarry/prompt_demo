<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中医提问演示</title>
    <style>
        /* --- 全局和基础样式 (移动端优先) --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f4f7f9;
            color: #333;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            max-width: 800px;
            width: 100%;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 25px;
            box-sizing: border-box;
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            font-size: 1.5em;
            margin-bottom: 25px;
        }

        .question-box {
            background-color: #eaf2f8;
            border-left: 5px solid #3498db;
            padding: 15px 20px;
            margin-bottom: 30px;
            border-radius: 5px;
        }

        .question-box p {
            margin: 0;
            font-size: 1.1em;
            color: #2c3e50;
        }

        /* --- 选项按钮样式 --- */
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px; /* 按钮之间的间距 */
        }

        .prompt-btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            text-align: left;
            transition: background-color 0.3s, transform 0.2s;
            width: 100%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .prompt-btn:hover:not(:disabled) {
            background-color: #2980b9;
        }

        .prompt-btn:active:not(:disabled) {
            transform: scale(0.98);
        }

        .prompt-btn.good-prompt {
            background-color: #27ae60;
        }

        .prompt-btn.good-prompt:hover:not(:disabled) {
            background-color: #229954;
        }

        .prompt-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .prompt-btn strong {
            display: block;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        /* --- 加载和响应区域 --- */
        .response-container {
            margin-top: 30px;
            border-top: 1px solid #e0e0e0;
            padding-top: 20px;
        }

        #loader {
            display: none; /* 默认隐藏 */
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: #3498db;
            animation: spin 1s ease infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        #response-content {
            background-color: #fafafa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            white-space: pre-wrap; /* 保持换行和空格 */
            word-wrap: break-word; /* 长单词自动换行 */
            line-height: 1.7;
            min-height: 100px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            color: #333;
        }

        /* --- 响应式设计 (PC端) --- */
        @media (min-width: 768px) {
            .container {
                padding: 40px;
            }
            h1 {
                font-size: 2em;
            }
            .options-container {
                flex-direction: row; /* 在大屏幕上并排显示 */
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>中医提问效果演示</h1>

        <div class="question-box">
            <p>现在假设您要了解一下颤振病的中医机制，您要如何提问呢？</p>
        </div>

        <div class="options-container">
            <button class="prompt-btn" id="bad-prompt-btn">
                <strong>方式一：随意提问</strong>
                <span>提示词：
                颤振病的中医机制是啥？
                </span>
            </button>
            <button class="prompt-btn good-prompt" id="good-prompt-btn">
                <strong>方式二：利用提示词工程</strong>
                 <span>提示词：
角色
  你是一名资深的中医理论研究者和科普作家。
目标
  你的任务是为一群对中医感兴趣但没有专业背景的读者，清晰地、系统地解释“颤振病”（西医常说的帕金森病）在中医理论中的核心病因病机。
背景与约束
  请重点围绕中医中五脏六腑等的功能失调，以及病理产物如何导致颤振进行阐述。
  你的解释需要有逻辑层次，可以分点论述，例如，先讲脏腑亏虚的“本”，再讲病理产物的“标”。
  语言应力求通俗易懂，如果必须使用专业术语（如“肝风内动”、“痰热动风”），请务必用专业化语言解释的同时再用生活化的比喻或简短的解释加以说明。
  最终的回答应该是结构清晰、内容全面、适合专业从业者的深度科普内容。
语气
  语气专业且平易近人
                </span>
            </button>
        </div>

        <div class="response-container">
            <div id="loader">
                <div class="spinner"></div>
                <p>正在生成回答...</p>
            </div>
            <pre id="response-content">AI的回答将显示在这里...</pre>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const badPromptBtn = document.getElementById('bad-prompt-btn');
            const goodPromptBtn = document.getElementById('good-prompt-btn');
            const responseContent = document.getElementById('response-content');
            const loader = document.getElementById('loader');

            // 定义两个固定的回答
            // 使用反引号 (`) 来方便地输入多行文本
            const fixedResponses = {
                bad: `“颤振病”是中医对帕金森病（Parkinson’s Disease）等以震颤为主要表现的疾病的传统称谓。中医认为，颤振病的发病机制复杂，涉及多个脏腑功能失调，但核心病机主要在于肝肾亏虚，在此基础上产生风、火、痰、瘀等病理产物，相互影响，导致筋脉失养，拘急颤动。
具体来说，其中医机制可以概括为以下几个方面：
肝肾亏虚是根本（本虚）：
肝主筋，肾主骨生髓，上荣于脑： 肝肾精血亏虚，不能濡养筋脉，则筋脉拘急、强直、震颤。肾精不足，脑髓失养，则神机失用，出现动作迟缓、表情呆板、智力减退等。
年老体衰： 多见于中老年人，随着年龄增长，肝肾自然亏虚，是发病的内因。
房劳过度、久病伤肾： 也可导致肾精亏耗，髓海不足。
风、火、痰、瘀是标实（标实）：
肝风内动： 肝肾阴亏，水不涵木，肝阳上亢，化风扰动，或风阳、痰火扰动肝风，导致肢体不自主震颤，如《内经》所言“诸风掉眩，皆属于肝”。“掉”即震颤。
痰浊阻滞： 脾失健运，水湿内停，聚湿生痰。痰浊阻滞经络，气血运行不畅，筋脉失养而震颤。痰浊上蒙清窍，则神志呆钝。
瘀血阻络： 气虚推动无力，或气滞血行不畅，或痰浊阻遏气机，均可导致血瘀。瘀血阻滞脑络、筋脉，气血不能濡养，也可引起震颤、僵硬、行动迟缓。
虚火内扰： 肝肾阴虚，水不制火，虚火上炎，扰动心神，或煎灼津液成痰，加重病情。
气血亏虚，筋脉失养：
脾为后天之本，气血生化之源。脾胃虚弱，生化不足，气血亏虚，不能上荣头面，濡养四肢百骸、筋脉关节，则出现肢体震颤、乏力、行动迟缓、面色萎黄等。
病机演变：
颤振病的病机往往本虚标实，相互夹杂，且可相互转化。早期可能以肝肾阴虚、肝风内动为主；随着病情发展，气血亏虚、痰浊瘀血阻滞可能逐渐加重，病情变得复杂。标实之邪（风、火、痰、瘀）可进一步耗伤正气（本虚），形成恶性循环。
总结：
中医认为颤振病的核心病机是肝肾亏虚，在此基础上产生肝风内动、痰浊阻滞、瘀血内停等病理变化，最终导致筋脉失养而发为震颤、强直、行动迟缓等症。治疗上常采用滋补肝肾、平肝熄风、化痰通络、活血化瘀等治法，并根据具体证候进行辨证论治。`,
                good: `好的，各位对中医感兴趣的朋友们，大家好！今天咱们来聊聊中医里一个叫“颤振病”的病，西医通常把它叫做帕金森病。大家可能都见过或者听说过，得这个病的人，手啊、头啊会不由自主地抖，走路也慢，身体还硬邦邦的。这到底是怎么回事呢？咱们用中医的眼光来看看它的“根儿”在哪里。
在中医看来，人体就像一个精密的生态系统，五脏六腑各司其职，相互协调。当这个系统里的某些部分出了问题，平衡被打破，病就来了。“颤振病”这个病，中医认为它的发生，主要跟几个方面有关，我们可以把它分成两大块来看：一个是身体内部的“根基”出了问题，也就是“本虚”；另一个是身体里产生了“捣乱分子”，也就是“标实”。
第一部分：脏腑亏虚——身体的“根基”不牢
这就像盖房子，地基不牢，房子就容易歪斜。中医认为，“颤振病”的根本原因，往往在于身体内部的“根基”——特别是肝肾这两个脏腑的功能衰退或亏虚。
肝肾亏虚是“本”：
专业解释： 中医讲“肝主筋”，“肾主骨生髓，上荣于脑”。筋就是我们身上的筋腱，负责连接关节，让身体活动。肾精充足，骨头才硬实，骨髓才丰满，脑部才能得到滋养。肝和肾的阴液（可以理解为身体里的“润滑剂”和“营养液”）如果不足了，筋脉就得不到滋润和养护，变得僵硬、不灵活，就容易发抖。同时，肾精不足，脑部失养，还会让人反应慢、动作迟缓、表情呆板。
生活化比喻： 你可以想象一下，机器长期运转，如果润滑油不够了，零件就会干涩、卡顿，甚至产生震动。肝肾亏虚，就像是身体这台机器的“润滑油”和“营养供给”不足了，筋脉这“零件”就干涩、僵硬，动起来就不顺畅，甚至自己抖起来。
为什么肝肾容易亏虚？
年龄因素： 这病多发生在中老年人。人老了，就像树木老了，根和枝（对应肝肾）自然就会有些衰弱，精气神就不如年轻时候了。这是自然规律，是内因。
其他因素： 比如长期劳累、房事过度、或者得了其他慢性病时间长了，都可能损伤肾精。情绪压抑久了，也可能伤肝。
气血亏虚也是“本”：
专业解释： 中医还讲“脾为后天之本，气血生化之源”。脾负责消化吸收食物，把营养转化成气血，滋养全身。如果脾胃功能不好，气血生成不足，那四肢、筋脉就得不到足够的营养和动力，也会变得无力、迟缓，甚至因为“虚”而颤抖。
生活化比喻： 想象一下，一个身体虚弱、经常没力气的人，他的手脚可能就不那么灵活有力，有时候甚至因为“撑不起来”而微微发抖。这就是气血不足的表现。
第二部分：病理产物——“捣乱分子”作祟
当身体的“根基”（肝肾、气血）出了问题，就像土壤贫瘠了，就容易滋生杂草，或者原本平衡的生态系统被打破，一些“捣乱分子”就趁机兴风作浪。中医把这些“捣乱分子”叫做“风、火、痰、瘀”。
肝风内动——“风”在作怪：
专业解释： “肝风内动”不是说肝脏里真的有风，而是指因为肝肾阴虚，水不涵木（肾水不足，不能滋养肝木），导致肝阳上亢（肝的阳气过于旺盛）。这个亢盛的阳气就像干柴烈火，容易化生“内风”，扰动身体，让人不由自主地抖动。这属于“虚风”。
生活化比喻： 想象一下，一棵树如果根部缺水（肾阴亏虚），树干就容易干枯（肝阴不足），稍微有点风（肝阳上亢），它的枝条就可能晃动得很厉害，甚至摇摆不定。这个“风”就是“肝风内动”。
痰热动风： 有时候，如果还夹杂了痰湿和郁热（比如情绪压力大、饮食不节），痰湿和热邪结合，也会扰动肝风，这叫“痰热动风”，这种“风”性质可能更急、更重一些。就像在干枯的树枝上，还绑了一些湿重的泥巴（痰湿），下面又用火烤（热邪），那树枝抖动起来就更厉害、更混乱了。
痰浊阻滞——“痰”在堵塞：
专业解释： 脾胃功能不好，运化水湿的能力下降，水湿停聚就会变成“痰浊”。这些痰浊如果堵塞了经络，气血运行就不通畅，筋脉得不到濡养，就会僵硬、震颤。痰浊如果上蒙清窍（大脑），还会让人反应迟钝、糊涂。
生活化比喻： 想象一下水管里如果积累了污垢和杂质（痰浊），水流（气血）就会不畅，甚至堵塞。同样，身体里的“通道”（经络）被痰浊堵住了，营养和气血送不上去，那个地方的筋脉就会“闹情绪”——僵硬、发抖。
瘀血阻络——“瘀”在阻碍：
专业解释： 气虚推动无力，或者气机郁滞，或者痰浊阻碍了气血运行，都可能导致“血瘀”，就是血液运行不畅，甚至停滞成块。瘀血堵在经络里，也会阻碍气血对筋脉的濡养，引起震颤、僵硬、疼痛。
生活化比喻： 就像河道里如果淤积了泥沙（瘀血），水流（气血）就会受阻，下游得不到灌溉（筋脉失养），土地就会干裂、贫瘠，甚至产生怪异的现象（震颤、僵硬）。
总结与联系：
所以，中医看“颤振病”，是一个“本虚标实”的过程。
本虚是基础，主要是肝肾亏虚和/或气血不足，这是身体内部的“根基”不牢固。
标实是表现，主要是肝风内动、痰浊阻滞、瘀血阻络这些“捣乱分子”在作祟，它们是“本虚”基础上产生的病理产物，反过来又加重病情。
这几种情况常常不是单独存在的，而是相互影响，比如肝肾阴虚可能生内热（火），火热灼津又可能生痰，痰阻气机又可能致瘀，瘀血阻络也会加重筋脉失养，使得病情变得复杂。
理解了这些中医的病因病机，我们就能更好地明白为什么中医治疗“颤振病”会采用补肝肾、养气血（固本）、同时配合平肝熄风、化痰通络、活血化瘀（治标）的方法。这就像既加固了房子的地基，又清理了堵塞的水管、扑灭了乱窜的火苗、疏通了淤塞的河道，是一个综合调理的过程。
希望今天的分享能帮助大家从中医的角度，对“颤振病”有一个更清晰、更深入的认识。中医的魅力就在于它看待人体和疾病的方式，是整体、动态、充满智慧的。谢谢大家的聆听！
`
            };

            // 用于防止在打字时重复点击
            let isTyping = false;

            // 为按钮添加点击事件
            badPromptBtn.addEventListener('click', () => {
                displayFixedResponse('bad');
            });

            goodPromptBtn.addEventListener('click', () => {
                displayFixedResponse('good');
            });

            /**
             * 实现打字机效果的函数
             * @param {string} text - 要显示的文本
             * @param {HTMLElement} element - 显示文本的HTML元素
             * @param {number} speed - 打字速度 (毫秒)
             * @param {function} onComplete - 打字完成后的回调函数
             */
            function typeWriter(text, element, speed, onComplete) {
                let i = 0;
                element.innerHTML = ''; // 清空之前的内容

                function type() {
                    if (i < text.length) {
                        // 为了正确渲染Markdown的换行，我们直接添加字符
                        element.innerHTML += text.charAt(i);
                        i++;
                        setTimeout(type, speed);
                    } else if (onComplete) {
                        onComplete(); // 打字结束后执行回调
                    }
                }
                type();
            }

            function displayFixedResponse(responseKey) {
                // 如果正在打字，则不执行任何操作
                if (isTyping) return;
                isTyping = true;

                // 禁用按钮，防止重复点击
                badPromptBtn.disabled = true;
                goodPromptBtn.disabled = true;

                // 显示加载动画，并隐藏上次的回答
                loader.style.display = 'block';
                responseContent.style.display = 'none';

                const textToType = fixedResponses[responseKey];
                const typingSpeed = 25; // 打字速度，单位毫秒，可以调整

                // 模拟网络延迟和处理时间
                setTimeout(() => {
                    // 隐藏加载动画，准备开始打字
                    loader.style.display = 'none';
                    responseContent.style.display = 'block';

                    // 调用打字机函数
                    typeWriter(textToType, responseContent, typingSpeed, () => {
                        // 打字完成后，重新启用按钮
                        badPromptBtn.disabled = false;
                        goodPromptBtn.disabled = false;
                        isTyping = false; // 重置状态
                    });
                }, 500); // 0.5秒的模拟延迟
            }
        });
    </script>
</body>
</html>
